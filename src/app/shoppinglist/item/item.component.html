<form [formGroup]="itemForm">
    <mat-expansion-panel [expanded]="'true'">

        <mat-expansion-panel-header>
            <mat-panel-title>
                <div class="item-delete" (click)="$event.stopImmediatePropagation(); remove()">
                    <mat-icon class="icon-light">delete</mat-icon>
                </div>
            </mat-panel-title>
            <div *ngIf="!this.getEditName()" class="item-name" 
                (click)="$event.stopImmediatePropagation(); this.setEditName(true)" 
                role="button" aria-label="Edit item name">
                <p>{{itemForm.value.itemName}}</p>
                <mat-icon class="icon-light">edit</mat-icon>
            </div>
            <mat-form-field *ngIf="this.getEditName()" [floatLabel]="'never'" (click)="$event.stopImmediatePropagation();" >
                <input #itemNameInput matInput 
                    (keydown.Space)="$event.stopImmediatePropagation()" 
                    (keydown.enter)="$event.stopImmediatePropagation(); $event.target.blur()"
                    (blur)="this.setEditName(false)" type="text" autocomplete="off" placeholder="Item Name"  formControlName="itemName">
            </mat-form-field>
        </mat-expansion-panel-header>

        <!-- ITEM SEARCH, CATEGORY, AND RARITY FILTERS -->
        <div class="item-contents">
            <div id="item-type-fields" class="field-wrapper">
                <mat-form-field id="search-field">
                    <mat-label>Search Items</mat-label>
                    <input matInput type="text" autocomplete="off" [matAutocomplete]="searchableItems" formControlName="itemSearch">
                    <button mat-button *ngIf="this.itemForm.value.itemSearch != ''" matSuffix mat-icon-button aria-label="Clear" (click)="this.itemForm.patchValue({'itemSearch': ''})">
                        <mat-icon class="icon-light">clear</mat-icon>
                    </button>

                    <mat-autocomplete #searchableItems="matAutocomplete" [class]="'autocomplete-panel'">
                        <mat-optgroup *ngFor="let search of getFilteredItems() | async" [label]="search.category">
                            <mat-option *ngFor="let item of search.items | slice:0:25;" [value]="item">
                                {{item}}
                            </mat-option>
                        </mat-optgroup>
                    </mat-autocomplete>
                </mat-form-field>
                <mat-form-field id="type-field">
                    <mat-label>Item Type</mat-label>
                    <input #itemTypesInput matInput type="text"  autocomplete="off" 
                            [matAutocomplete]="searchableItemTypes" 
                            [placeholder]="itemForm.value.itemCategory"
                            (input)="filteredTypes = filterEnums($event.target.value, this.ITEM_TYPES)"
                            [matAutocompletePosition]="'below'"
                            [value]="itemForm.value.itemCategory"
                            (focus)="$event.target.value = ''; filteredTypes = filterEnums('', this.ITEM_TYPES)"
                            (blur)="$event.target.value = itemForm.value.itemCategory">

                    <mat-icon matSuffix class="icon-dark" [class.rotate]="searchableItemTypes.isOpen">arrow_drop_down</mat-icon>
                    <mat-autocomplete #searchableItemTypes="matAutocomplete" 
                                    [class]="'autocomplete-panel'" 
                                    autoActiveFirstOption="'true'"
                                    (optionSelected)="itemForm.controls.itemCategory.patchValue($event.option.value); itemTypesInput.blur()">
                        <mat-option *ngFor="let type of filteredTypes" [class.mat-selected]="type == itemForm.value.itemCategory" [value]="type">
                            {{type}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <mat-form-field id="rarity-field">
                    <mat-label>Item Rarity</mat-label>
                    <input #itemRaritiesInput matInput type="text"  autocomplete="off" 
                            [matAutocomplete]="searchableItemRarities" 
                            [placeholder]="itemForm.value.itemRarity"
                            (input)="filteredRarities = filterEnums($event.target.value, ITEM_RARITIES)"
                            [matAutocompletePosition]="'below'"
                            [value]="itemForm.value.itemRarity"
                            (focus)="$event.target.value = ''; filteredRarities = filterEnums('', ITEM_RARITIES)"
                            (blur)="$event.target.value = itemForm.value.itemRarity">

                    <mat-icon matSuffix class="icon-dark" [class.rotate]="searchableItemRarities.isOpen">arrow_drop_down</mat-icon>
                    <mat-autocomplete #searchableItemRarities="matAutocomplete" 
                                    [class]="'autocomplete-panel'" 
                                    autoActiveFirstOption="'true'"
                                    (optionSelected)="itemForm.controls.itemRarity.patchValue($event.option.value); itemRaritiesInput.blur()">
                        <mat-option *ngFor="let rarity of filteredRarities" [class.mat-selected]="rarity == itemForm.value.itemRarity" [value]="rarity">
                            {{rarity}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
            </div>

            <!-- WEAPON FILTERS -->
            <mat-expansion-panel class="sub-item-expansion">
                <mat-expansion-panel-header>
                        Weapon Filters
                </mat-expansion-panel-header>
                <div class="item-contents">
                    <div appEqualflex id="item-type-fields" class="field-wrapper" formGroupName="weaponFilters">
                        <div class="min-max-field" formGroupName="damage">
                            <p class="min-max-field-label">Damage</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="APS">
                            <p class="min-max-field-label">Attacks Per Second</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="criticalStrikeChance">
                            <p class="min-max-field-label">Critical Strike Chance</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="totalDPS">
                            <p class="min-max-field-label">Total DPS</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="pDPS">
                            <p class="min-max-field-label">Physcial DPS</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="eDPS">
                            <p class="min-max-field-label">Elemental DPS</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>

            <!-- ARMOUR FILTERS -->
            <mat-expansion-panel class="sub-item-expansion">
                <mat-expansion-panel-header>
                        Armour Filters
                </mat-expansion-panel-header>
                <div class="item-contents">
                    <div appEqualflex id="item-type-fields" class="field-wrapper" formGroupName="armourFilters">
                        <div class="min-max-field" formGroupName="armour">
                            <p class="min-max-field-label">Armour</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="energyShield">
                            <p class="min-max-field-label">Energy Shield</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="evasion">
                            <p class="min-max-field-label">Evasion</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="blockChance">
                            <p class="min-max-field-label">Block Chance</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly [float]="'true'" matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>

            <!-- SOCKET FILTERS -->
            <mat-expansion-panel class="sub-item-expansion">
                <mat-expansion-panel-header>
                        Socket Filters
                </mat-expansion-panel-header>
                <div class="item-contents">
                    <div appEqualflex id="item-type-fields" class="field-wrapper" formGroupName="socketFilters">
                        <div class="min-max-field" formGroupName="sockets">
                            <p class="min-max-field-label">Sockets</p>
                            <div class="sub-min-max-fields">
                                <mat-form-field class="socket-input-r">
                                    <mat-label>Red</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="red">
                                </mat-form-field>
                                <mat-form-field class="socket-input-g">
                                    <mat-label>Green</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="green">
                                </mat-form-field>
                                <mat-form-field class="socket-input-b">
                                    <mat-label>Blue</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="blue">
                                </mat-form-field>
                                <mat-form-field class="socket-input-w">
                                    <mat-label>White</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="white">
                                </mat-form-field>
                            </div>
                            <div class="min-max-fields">
                                <mat-form-field>
                                    <mat-label>Min</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="min">
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Max</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="max">
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="min-max-field" formGroupName="links">
                            <p class="min-max-field-label">Links</p>
                            <div class="sub-min-max-fields">
                                <mat-form-field class="socket-input-r">
                                    <mat-label>Red</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="red">
                                </mat-form-field>
                                <mat-form-field class="socket-input-g">
                                    <mat-label>Green</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="green">
                                </mat-form-field>
                                <mat-form-field class="socket-input-b">
                                    <mat-label>Blue</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="blue">
                                </mat-form-field>
                                <mat-form-field class="socket-input-w">
                                    <mat-label>White</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="white">
                                </mat-form-field>
                            </div>
                            <div class="min-max-fields">
                                <mat-form-field>
                                    <mat-label>Min</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="min">
                                </mat-form-field>
                                <mat-form-field>
                                    <mat-label>Max</mat-label>
                                    <input digitsonly matInput type="text" autocomplete="off" formControlName="max">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>

            <!-- REQUIREMENTS FILTERS -->
            <mat-expansion-panel class="sub-item-expansion">
                <mat-expansion-panel-header>
                        Requirements
                </mat-expansion-panel-header>
                <div class="item-contents">
                    <div appEqualflex id="item-type-fields" class="field-wrapper" formGroupName="requirementFilters">
                        <div class="min-max-field" formGroupName="level">
                            <p class="min-max-field-label">Level</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="strength">
                            <p class="min-max-field-label">Strength</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="intelligence">
                            <p class="min-max-field-label">Intelligence</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="dexterity">
                            <p class="min-max-field-label">Dexterity</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>

            <!-- MAP FILTERS -->
            <mat-expansion-panel class="sub-item-expansion">
                <mat-expansion-panel-header>
                        Map Filters
                </mat-expansion-panel-header>
                <div class="item-contents">
                    <div appEqualflex id="item-type-fields" class="field-wrapper" formGroupName="mapFilters">
                        <div class="min-max-field">
                            <p class="min-max-field-label">Region</p>
                            <mat-form-field floatLabel="never">
                                <input #mapRegionInput matInput type="text"  autocomplete="off" 
                                        [matAutocomplete]="searchableMapRegions" 
                                        [placeholder]="itemForm.value.mapFilters.region"
                                        (input)="filteredMapRegion = filterEnums($event.target.value, MAP_REGION)"
                                        [matAutocompletePosition]="'below'"
                                        [value]="itemForm.value.mapFilters.region"
                                        (focus)="$event.target.value = ''; filteredMapRegion = filterEnums('', MAP_REGION)"
                                        (blur)="$event.target.value = itemForm.value.mapFilters.region">
            
                                <mat-icon matSuffix class="icon-dark" [class.rotate]="searchableMapRegions.isOpen">arrow_drop_down</mat-icon>
                                <mat-autocomplete #searchableMapRegions="matAutocomplete" 
                                                [class]="'autocomplete-panel'" 
                                                autoActiveFirstOption="'true'"
                                                (optionSelected)="itemForm.get('mapFilters.region').patchValue($event.option.value); mapRegionInput.blur()">
                                    <mat-option *ngFor="let region of filteredMapRegion" [class.mat-selected]="region == itemForm.value.mapFilters.region" [value]="region">
                                        {{region}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                        <div class="min-max-field">
                            <p class="min-max-field-label">Series</p>
                            <mat-form-field floatLabel="never">
                                <input #mapSeriesInput matInput type="text"  autocomplete="off" 
                                        [matAutocomplete]="searchableMapSeries" 
                                        [placeholder]="itemForm.value.mapFilters.series"
                                        (input)="filteredMapSeries = filterEnums($event.target.value, MAP_SERIES)"
                                        [matAutocompletePosition]="'below'"
                                        [value]="itemForm.value.mapFilters.series"
                                        (focus)="$event.target.value = ''; filteredMapSeries = filterEnums('', MAP_SERIES)"
                                        (blur)="$event.target.value = itemForm.value.mapFilters.series">
            
                                <mat-icon matSuffix class="icon-dark" [class.rotate]="searchableMapSeries.isOpen">arrow_drop_down</mat-icon>
                                <mat-autocomplete #searchableMapSeries="matAutocomplete" 
                                                [class]="'autocomplete-panel'" 
                                                autoActiveFirstOption="'true'"
                                                (optionSelected)="itemForm.get('mapFilters.series').patchValue($event.option.value); mapSeriesInput.blur()">
                                    <mat-option *ngFor="let series of filteredMapSeries" [class.mat-selected]="series == itemForm.value.mapFilters.series" [value]="series">
                                        {{series}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                        <div class="min-max-field">
                            <p class="min-max-field-label">Shaped</p>
                            <mat-form-field floatLabel="never">
                                <input #mapShapedInput matInput type="text"  autocomplete="off" 
                                        [matAutocomplete]="searchableShapedTrueFalse" 
                                        [placeholder]="itemForm.value.mapFilters.shaped"
                                        (input)="filteredTrueFalse = filterEnums($event.target.value, TRUE_FALSE)"
                                        [matAutocompletePosition]="'below'"
                                        [value]="itemForm.value.mapFilters.shaped"
                                        (focus)="$event.target.value = ''; filteredTrueFalse = filterEnums('', TRUE_FALSE)"
                                        (blur)="$event.target.value = itemForm.value.mapFilters.shaped">
            
                                <mat-icon matSuffix class="icon-dark" [class.rotate]="searchableShapedTrueFalse.isOpen">arrow_drop_down</mat-icon>
                                <mat-autocomplete #searchableShapedTrueFalse="matAutocomplete" 
                                                [class]="'autocomplete-panel'" 
                                                autoActiveFirstOption="'true'"
                                                (optionSelected)="itemForm.get('mapFilters.shaped').patchValue($event.option.value); mapShapedInput.blur()">
                                    <mat-option *ngFor="let value of filteredTrueFalse" [class.mat-selected]="value == itemForm.value.mapFilters.shaped" [value]="value">
                                        {{value}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                        <div class="min-max-field">
                            <p class="min-max-field-label">Elder</p>
                            <mat-form-field floatLabel="never">
                                <input #mapElderInput matInput type="text"  autocomplete="off" 
                                        [matAutocomplete]="searchableElderTrueFalse" 
                                        [placeholder]="itemForm.value.mapFilters.elder"
                                        (input)="filteredTrueFalse = filterEnums($event.target.value, TRUE_FALSE)"
                                        [matAutocompletePosition]="'below'"
                                        [value]="itemForm.value.mapFilters.elder"
                                        (focus)="$event.target.value = ''; filteredTrueFalse = filterEnums('', TRUE_FALSE)"
                                        (blur)="$event.target.value = itemForm.value.mapFilters.elder">
            
                                <mat-icon matSuffix class="icon-dark" [class.rotate]="searchableElderTrueFalse.isOpen">arrow_drop_down</mat-icon>
                                <mat-autocomplete #searchableElderTrueFalse="matAutocomplete" 
                                                [class]="'autocomplete-panel'" 
                                                autoActiveFirstOption="'true'"
                                                (optionSelected)="itemForm.get('mapFilters.elder').patchValue($event.option.value); mapElderInput.blur()">
                                    <mat-option *ngFor="let value of filteredTrueFalse" [class.mat-selected]="value == itemForm.value.mapFilters.elder" [value]="value">
                                        {{value}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                        <div class="min-max-field">
                            <p class="min-max-field-label">Blighted</p>
                            <mat-form-field floatLabel="never">
                                <input #mapBlightedInput matInput type="text"  autocomplete="off" 
                                        [matAutocomplete]="searchableBlightedTrueFalse" 
                                        [placeholder]="itemForm.value.mapFilters.blighted"
                                        (input)="filteredTrueFalse = filterEnums($event.target.value, TRUE_FALSE)"
                                        [matAutocompletePosition]="'below'"
                                        [value]="itemForm.value.mapFilters.blighted"
                                        (focus)="$event.target.value = ''; filteredTrueFalse = filterEnums('', TRUE_FALSE)"
                                        (blur)="$event.target.value = itemForm.value.mapFilters.blighted">
            
                                <mat-icon matSuffix class="icon-dark" [class.rotate]="searchableBlightedTrueFalse.isOpen">arrow_drop_down</mat-icon>
                                <mat-autocomplete #searchableBlightedTrueFalse="matAutocomplete" 
                                                [class]="'autocomplete-panel'" 
                                                autoActiveFirstOption="'true'"
                                                (optionSelected)="itemForm.get('mapFilters.blighted').patchValue($event.option.value); mapBlightedInput.blur()">
                                    <mat-option *ngFor="let value of filteredTrueFalse" [class.mat-selected]="value == itemForm.value.mapFilters.blighted" [value]="value">
                                        {{value}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="tier">
                            <p class="min-max-field-label">Tier</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="packsize">
                            <p class="min-max-field-label">Packsize</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="iiq">
                            <p class="min-max-field-label">IIQ</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                        <div class="min-max-field" formGroupName="iir">
                            <p class="min-max-field-label">IIR</p>
                            <mat-form-field>
                                <mat-label>Min</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="min">
                            </mat-form-field>
                            <mat-form-field>
                                <mat-label>Max</mat-label>
                                <input digitsonly matInput type="text" autocomplete="off" formControlName="max">
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>
        </div>
    </mat-expansion-panel>
</form>

