<div class="stat-select">

    <div class="stat-selector">
        <button *ngIf="statSelected" class="remove-stat-button" (click)="deleteStatFilter()" mat-flat-button><mat-icon class="stat-icon">remove</mat-icon></button>
        <mat-form-field floatLabel="never">
            <mat-label *ngIf="!selectedStat">Add Stat Filter</mat-label>
            <input #statInput matInput type="text" autocomplete="off" 
                [matAutocomplete]="searchableStats" 
                [placeholder]="selectedStat?.text"
                (input)="filteredStats = filterStats($event.target.value)"
                [value]="selectedStat?.text"
                (focus)="$event.target.value = ''; filteredStats = filterStats('')"
                (blur)="$event.target.value = selectedStat?.text">
                
            <mat-icon matSuffix class="icon-dark" [class.rotate]="searchableStats.isOpen">arrow_drop_down</mat-icon>
            <mat-autocomplete #searchableStats="matAutocomplete" 
                            [class]="'autocomplete-panel'"
                            autoActiveFirstOption="'true'"
                            (optionSelected)="selectedStat = $event.option.value; setStat(); 
                                            statGroup.controls.id.patchValue($event.option.value.id); statInput.blur();">
                <mat-optgroup *ngFor="let search of filteredStats" [label]="search.category">
                    <mat-option *ngFor="let item of search.stats | slice:0:25;" [value]="item">
                        {{item.text}}
                    </mat-option>
                </mat-optgroup>
            </mat-autocomplete>
        </mat-form-field>
    </div>
    

    <div *ngIf="statSelected" class="stat-min-max-fields">
        <mat-form-field>
            <mat-label>Min</mat-label>
            <input digitsonly matInput type="text" autocomplete="off" [formControl]="statGroup.get('value.min')">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Max</mat-label>
            <input digitsonly matInput type="text" autocomplete="off" [formControl]="statGroup.get('value.max')">
        </mat-form-field>
    </div>
<div>
